var GridPlus=GridPlus||{};!function(j){"use strict";var t;GridPlus={vars:{grid_on_ajax:!1},init:function(){GridPlus.galleries=[],GridPlus.items=[],GridPlus.pagings=[],GridPlus.initGrid(),GridPlus.initCarousel(),GridPlus.execCategoryFilter(),GridPlus.initCateExpanded(),GridPlus.initFilterByCategory(),GridPlus.initPaging(),GridPlus.initWindowScroll(),GridPlus.initViewGallery(),GridPlus.initAddToCartAjax()},initGrid:function(t){void 0===t&&(t=j("body")),j(".grid-stack-container",t).each(function(){var t=j(this).attr("data-section-id"),a=j(this).attr("data-gutter"),i=j("#"+t),e=j(this).attr("data-fix-item-height"),r=j(this).attr("data-layout-type"),s=j(".grid-stack",i),d=j(".grid-stack-container",i),n=d.attr("data-height-ratio"),o=d.attr("data-width-ratio"),l=parseInt(d.attr("data-columns")),c=j(".grid-items .grid-post-item",i),g="grid"==r?0:10,h=[],u=null,p=null,m=null,f=null,v=null,y=0,w=0,x=0,G=0,P=0,k=0,C=i.width(),I=Math.ceil(C/l),b=0,T={cellHeight:g,verticalMargin:a,animate:!0,acceptWidgets:!0,removable:!1,disableDrag:!0,disableResize:!0};j(".grid-items .item",i).each(function(t){h.push({x:j(this).attr("data-gs-x"),y:j(this).attr("data-gs-y"),width:j(this).attr("data-gs-width"),height:j(this).attr("data-gs-height"),desktop_x:j(this).attr("data-desktop-gs-x"),desktop_y:j(this).attr("data-desktop-gs-y"),desktop_width:j(this).attr("data-desktop-gs-width"),desktop_height:j(this).attr("data-desktop-gs-height"),image_height:j(this).attr("data-image-height"),image_width:j(this).attr("data-image-width")})}),s.attr("data-gutter","gutter-"+a),s.gridstack(T),p=s.data("gridstack"),_.each(h,function(t){if(u=p.addWidget(j('<div><div class="grid-stack-item-content" /><div/>'),t.x,t.y,t.width,t.height),j(u).attr("data-desktop-gs-x",t.desktop_x),j(u).attr("data-desktop-gs-y",t.desktop_y),j(u).attr("data-desktop-gs-width",t.desktop_width),j(u).attr("data-desktop-gs-height",t.desktop_height),j(u).attr("data-image-height",t.image_height),j(u).attr("data-image-width",t.image_width),(m=j(".grid-stack-item-content",u)).append(c[y++]),y==c.length&&(y=0),f=j(".thumbnail-image",m),void 0!==(v=f.attr("data-img"))&&null!=v&&""!=v&&(f.css("background-image","url("+v+")"),j("img",f).remove()),I=j(".grid-post-item",this).outerWidth(!0),"grid"==r){if("true"==e){var a=j(".grid-post-item",m).attr("data-post-info-class");w=j(".grid-post-item ."+a,m).outerHeight(!0)}b=Math.floor(I*(n/o)),f.css("height",b+"px")}else if("1"==j(".grid-post-item",m).attr("data-thumbnail-only"))G=parseInt(j(u).attr("data-image-width")),P=parseInt(j(u).attr("data-image-height")),k=x=0,I<=G&&(k=G/I,x=Math.floor(P/k)),0<x?(f.css("height",x+"px"),j(".grid-post-item",m).css("height",x+"px")):(f.css("height","100%"),j(".grid-post-item",m).css("height","100%"));else{if("true"==e){a=j(".grid-post-item",m).attr("data-post-info-class");w=j(".grid-post-item ."+a,m).outerHeight(!0)}G=parseInt(j(u).attr("data-image-width")),P=parseInt(j(u).attr("data-image-height")),k=x=0,I<=G&&(k=G/I,x=Math.floor(P/k)),0<x?f.css("height",x+"px"):f.css("height",10*t.height-w+"px"),j(".grid-post-item",m).css("height","auto")}},this),GridPlus.responsive(function(){i.trigger("gridInitCompleted"),setTimeout(function(){GridPlus.itemAnimation(i)},300)})})},initCarousel:function(t){void 0===t&&(t=j("body")),j(".grid-owl-carousel",t).each(function(){var t=j(this),a={items:4,nav:!1,navText:['<i class="fa fa-angle-left"></i> ',' <i class="fa fa-angle-right"></i>'],dots:!1,loop:!0,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,autoplay:!1,autoplayTimeout:0,fluidSpeed:!1,dragEndSpeed:!1,autoplayHoverPause:!0,onResized:GridPlus.initResizeCarousel,onInitialized:GridPlus.initCarouselInitialized},i=t.data("nav-next-text"),e=t.data("nav-prev-text");void 0!==i&&void 0!==e&&(a.navText=[e,i]);var r=j.extend({},a,t.data("owl-options"));t.gridOwlCarousel(r)}),j(".carousel-container",t).each(function(){var t=j(this),a=t.parent().attr("data-animation"),r=t.attr("data-height-ratio"),s=t.attr("data-width-ratio"),d=[];j(".item",t).each(function(){var t,a=j(".thumbnail-image",j(this)),i=a.attr("data-img"),e=parseInt(a.width());0<j("img",a).length&&j("img",a).remove(),void 0!==i&&""!=i&&a.css("background-image","url("+i+")"),t=Math.floor(parseInt(r)/parseInt(s)*e),a.css("height",t+"px"),d.push(j(this))});for(var i=0;i<d.length;i++)!function(t){setTimeout(function(){j(d[t]).addClass("animated "+a),j(d[t]).css("opacity",1)},100*i)}(i)})},itemAnimation:function(a){for(var i=j(".grid-stack-item-content",a),e=a.attr("data-animation"),r=0;r<i.length;r++)GridPlus.isAppear(i[r])?function(t){setTimeout(function(){j(i[t]).addClass("animated "+e),j(i[t]).addClass("infinited"),j(i[t]).css("opacity",1),t+1==i.length&&a.trigger("itemAnimationCompleted")},100*r)}(r):(j(i[r]).addClass("has-infinite"),j(i[r]).attr("data-animation",e))},initResize:function(t,a){var i=[],e="",r=0,s=0,d=0,n=0,o=j(".grid-stack-container",t).attr("data-gutter"),l=0,c=0,g=j(".grid-stack-container",t).attr("data-height-ratio"),h=j(".grid-stack-container",t).attr("data-width-ratio");j(".grid-stack-item",t).each(function(){e=j(this).attr("data-gs-y"),s=0,"1"==j(".grid-post-item",this).attr("data-thumbnail-only")?(l=j(".grid-post-item",this).outerWidth(!1),c=Math.floor(l*(g/h)),j(".grid-post-item",this).css("height",c+"px"),j(".grid-post-item > div",this).css("height",c+"px")):c=j(".grid-post-item",this).outerHeight(!0),j(".grid-stack",t).hasClass("grid-stack-one-column-mode")?(d+=parseInt(r)+parseInt(o),r=c,n+=parseInt(c)+parseInt(o),d+=parseInt(r)+parseInt(o),j('.grid-stack-item[data-gs-y="'+e+'"]',t).css("height",c+"px"),isNaN(d)||j('.grid-stack-item[data-gs-y="'+e+'"]',t).css("top",d)):-1==_.indexOf(i,e)&&(j('.grid-stack-item[data-gs-y="'+e+'"]',t).each(function(){s<c&&(s=c)}),i.push(e),1<i.length&&(d+=parseInt(r)+parseInt(o)),r=s,n+=parseInt(s)+parseInt(o),j('.grid-stack-item[data-gs-y="'+e+'"]',t).css("height",s+"px"),isNaN(d)||j('.grid-stack-item[data-gs-y="'+e+'"]',t).css("top",d))}),isNaN(n)||j(".grid-stack",t).css("height",n),a&&a(t)},initResizeMasonry:function(t,a,i){for(var e=0,r=0,s=0,d=0,n=1,o=parseInt(j(".grid-stack-container",t).attr("data-gutter")),l=parseInt(j(".grid-stack-container",t).attr("data-columns")),c=j(".grid-stack",t).width(),g={},h=0,u=Math.ceil(c/l),p=1;p<=l;p++)g["col_"+p]={height:0};a=void 0!==a&&a,j(".grid-stack-item",t).each(function(){parseInt(j(this).attr("data-gs-y")),parseInt(j(this).attr("data-gs-x")),parseInt(j(this).attr("data-gs-width")),parseInt(j(this).attr("data-gs-height")),e=parseInt(j(".grid-post-item",this).outerHeight(!0)),j(this).css("height",e),h=0;for(var t=1;t<=l;t++){if(0==g["col_"+t].height){n=t,s=h=0;break}(0==h||h>g["col_"+t].height)&&(h=g["col_"+t].height,n=t)}r=h,s=(n-1)*u,g["col_"+n].height=g["col_"+n].height+e+o,j(this).css("top",r),j(this).css("left",s),d<r+e+o&&(d=r+e+o)}),isNaN(d)||j(".grid-stack",t).css("height",d),i&&i(t)},initResizeCarousel:function(){j(".carousel-container").each(function(){var t=j(this),e=t.attr("data-height-ratio"),r=t.attr("data-width-ratio");j(".item",t).each(function(){var t,a=j(".thumbnail-image",j(this)),i=parseInt(a.width());t=Math.floor(parseInt(e)/parseInt(r)*i),a.css("height",t+"px")})})},initCarouselInitialized:function(t){j(".carousel-items",t.target).css("min-height","auto")},find:function(t,a,i){_.find(t,function(t){return t.x==a&&t.y==i})},findPreviousNode:function(t,a,i,e){for(var r=0,s=null,d=0;d<t.length;d++)t[d].y<i&&(t[d].x>a&&t[d].x>=a+e||t[d].x<a&&t[d].x+t[d].gs_width<=a||t[d].height+t[d].top>r&&(r=t[d].height+t[d].top,s=t[d]));return s},responsive:function(d){j(".grid-plus-container").each(function(){var t=j(this),a=j(".grid-stack-container",t),i=a.attr("data-layout-type"),e=1,r=0,s=[];void 0!==i&&(window.matchMedia("(min-width: 992px)").matches?(a.attr("data-columns",a.attr("data-desktop-columns")),j(".grid-stack-item",t).each(function(){j(this).attr("data-gs-y",j(this).attr("data-desktop-gs-y")),j(this).attr("data-gs-x",j(this).attr("data-desktop-gs-x")),j(this).attr("data-gs-width",j(this).attr("data-desktop-gs-width")),j(this).attr("data-gs-height",j(this).attr("data-desktop-gs-height"))})):window.matchMedia("(min-width: 600px)").matches?(j(".grid-stack",t).removeClass("grid-stack-one-column-mode"),a.attr("data-columns",a.attr("data-tablet-columns")),j(".grid-stack-item",t).each(function(){j(this).attr("data-gs-width","6"),e%2==0&&(j(this).attr("data-gs-x","6"),void 0!==s[e-3]&&j(this).attr("data-gs-y",s[e-3])),e%2==1&&(j(this).attr("data-gs-x","0"),void 0!==s[e-2]&&j(this).attr("data-gs-y",s[e-2])),r=parseInt(j(this).attr("data-gs-y"))+parseInt(j(this).attr("data-gs-height")),s.push(r),e++})):(j(".grid-stack",t).hasClass("grid-stack-one-column-mode")||j(".grid-stack",t).addClass("grid-stack-one-column-mode"),a.attr("data-columns",a.attr("data-mobile-columns"))),setTimeout(function(){"metro"!=i&&("masonry"==i?GridPlus.initResizeMasonry(t,!0,d):GridPlus.initResize(t,d))},300))})},initCateExpanded:function(){j(document).on("click",function(t){var a=!1;0<j(t.target).closest(".grid-cate-expanded").length&&j(t.target).hasClass("grid-dropdown-toggle")&&j(t.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").hasClass("active")&&(a=!0),j(".grid-dropdown-menu",".grid-cate-expanded").removeClass("active"),a||j(t.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").addClass("active")})},initFilterByCategory:function(){j("a",".grid-category").off("click").on("click",function(){if(!GridPlus.vars.grid_on_ajax&&!j(this).hasClass("active")){GridPlus.vars.grid_on_ajax=!0;var t=j(this).closest(".grid-plus-inner"),a=t.attr("data-section-id"),i=t.attr("data-layout-type"),e=t.attr("data-ajax-url"),r=t.attr("data-nonce"),s=j(this).attr("data-category");"carousel"==i?GridPlus.filterCarousel(this,a,e,s,1,r):GridPlus.filter(this,a,e,s,1,1,r),j(".grid-category a",t).removeClass("active"),j(this).addClass("active")}})},filter:function(t,a,i,e,r,s,d){var n,o=j("#"+a),l=o.attr("data-grid-name"),c=null,g=j(t),h=null,u=null,p="";s=void 0!==s?s:1,0<g.closest(".grid-cate-expanded").length&&g.closest(".grid-cate-expanded").children("ul").addClass("active"),g.hasClass("ladda-button")&&(c=Ladda.create(t)).start(),n=a+"_"+e+"_"+(r=void 0!==r?r:1),void 0===GridPlus.items[n]?j.ajax({url:i,type:"POST",data:{action:"grid_plus_load_by_category",category_id:e,current_page:r,grid_name:l,nonce:d},success:function(t){null!=c&&c.stop(),h=j(".grid-items .item",t),GridPlus.items[n]=h.clone(!0),j('div[data-section-id="'+a+'"]').attr("data-current-category",e),3==s||4==s?(u=j(3==s?"a.load-more":"a.infinite-scroll",t),p=3==s?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.pagings[n]=u.clone(!0),GridPlus.appendItem(o,h,u,p)):((u=j(".grid-paging-navigation",t)).length<=0&&(0<j("a.load-more",t).length&&(u=j("a.load-more",t)),0<j("a.infinite-scroll",t).length&&(u=j("a.infinite-scroll",t))),GridPlus.pagings[n]=u.clone(!0),GridPlus.bindItem(o,h,u,s)),GridPlus.initViewGallery(o),GridPlus.initAddToCartAjax(o),GridPlus.vars.grid_on_ajax=!1,0<g.closest(".grid-cate-expanded").length&&g.closest(".grid-cate-expanded").children("ul").removeClass("active")},error:function(){return null!=c&&c.stop(),GridPlus.vars.grid_on_ajax=!1,0<g.closest(".grid-cate-expanded").length&&g.closest(".grid-cate-expanded").children("ul").removeClass("active"),!1}}):(null!=c&&c.stop(),j('div[data-section-id="'+a+'"]').attr("data-current-category",e),h=GridPlus.items[n].clone(!0),3==s||4==s?(u=GridPlus.pagings[n].clone(!0),p=3==s?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.appendItem(o,h,u,p)):(u=GridPlus.pagings[n].clone(!0),GridPlus.bindItem(o,h,u,s)),GridPlus.initViewGallery(o),GridPlus.initAddToCartAjax(o),GridPlus.vars.grid_on_ajax=!1,0<g.closest(".grid-cate-expanded").length&&g.closest(".grid-cate-expanded").children("ul").removeClass("active"))},filterCarousel:function(t,a,i,e,r,s){var d=j("#"+a),n=d.attr("data-grid-name"),o=null,l=j(t),c=a+"_"+e,g=null;l.hasClass("ladda-button")&&(o=Ladda.create(t)).start(),void 0===GridPlus.items[c]?j.ajax({url:i,type:"POST",data:{action:"grid_plus_load_by_category",category_id:e,current_page:1,grid_name:n,nonce:s},success:function(t){null!=o&&o.stop(),g=j(".carousel-items .item",t),GridPlus.items[c]=g.clone(!0),j('div[data-section-id="'+a+'"]').attr("data-current-category",e),GridPlus.bindItemCarousel(d,g,r),GridPlus.initViewGallery(d),GridPlus.initAddToCartAjax(d),GridPlus.vars.grid_on_ajax=!1},error:function(){null!=o&&o.stop(),GridPlus.vars.grid_on_ajax=!1}}):(null!=o&&o.stop(),j('div[data-section-id="'+a+'"]').attr("data-current-category",e),g=GridPlus.items[c].clone(!0),GridPlus.bindItemCarousel(d,g,r),GridPlus.initViewGallery(d),GridPlus.initAddToCartAjax(d),GridPlus.vars.grid_on_ajax=!1)},bindItem:function(t,a,i,e){if(void 0!==j(".grid-stack",t).data("gridstack")&&j(".grid-stack",t).data("gridstack").destroy(!1),j(".grid-stack",t).empty(),j(".grid-items",t).empty(),j(".grid-items",t).append(a),GridPlus.initGrid(t),j(".grid-paging-navigation-wrap .grid-paging-navigation",t).empty(),j(".grid-load-more-wrap",t).empty(),j(".grid-infinite-scroll-wrap",t).empty(),1==e||2==e){var r=t.offset().top;0<j("#wpadminbar").length&&(r-=j("#wpadminbar").outerHeight(!0)),j("html,body").animate({scrollTop:r+"px"},500)}0<i.length&&setTimeout(function(){0<j(".grid-paging-navigation-wrap",t).length?(j(".grid-paging-navigation-wrap .grid-paging-navigation",t).append(i.children()),j(".grid-paging-navigation-wrap",t).fadeIn()):0<j(".grid-load-more-wrap",t).length?j(".grid-load-more-wrap",t).append(i):0<j(".grid-infinite-scroll-wrap",t).length&&j(".grid-infinite-scroll-wrap",t).append(i),GridPlus.initPaging(t)},100)},appendItem:function(t,a,i,e){var r=j(".grid-stack-item",t).length,s=j(".grid-items .item",t),d=s.length,n=0,o=0,l=0,c=0,g=0,h=0,u=0;r<d&&(n=d-r),j(".grid-stack-item",t).each(function(){parseInt(j(this).attr("data-gs-y"))+parseInt(j(this).attr("data-gs-height"))>u&&(u=parseInt(j(this).attr("data-gs-y"))+parseInt(j(this).attr("data-gs-height")))});for(var p=n;p<d;p++)p==d&&o<=a.length&&(p=0),l=parseInt(j(s[p]).attr("data-gs-y"))+u,c=parseInt(j(s[p]).attr("data-gs-x")),g=parseInt(j(s[p]).attr("data-gs-width")),h=parseInt(j(s[p]).attr("data-gs-height")),j(a[o]).attr("data-gs-y",l),j(a[o]).attr("data-gs-x",c),j(a[o]).attr("data-gs-width",g),j(a[o]).attr("data-gs-height",h),j(a[o]).attr("data-desktop-gs-y",l),j(a[o]).attr("data-desktop-gs-x",c),j(a[o]).attr("data-desktop-gs-width",g),j(a[o]).attr("data-desktop-gs-height",h),o++;j(".grid-items",t).empty(),j(".grid-items",t).append(a),GridPlus.initGrid(t),j(e,t).empty(),0<i.length&&(j(e,t).append(i),GridPlus.initPaging(t))},bindItemCarousel:function(t,a,i){var e=j(".carousel-items",t).height();j(".carousel-items",t).trigger("destroy.owl.carousel"),j(".carousel-items",t).css("min-height",e+"px"),j(".carousel-items",t).empty(),j(".carousel-items",t).append(a),GridPlus.initCarousel(t);var r=t.offset().top;0<j("#wpadminbar").length&&(r-=j("#wpadminbar").outerHeight(!0)),j("html,body").animate({scrollTop:r+"px"},500)},initPaging:function(t){void 0===t&&(t=j("body")),j("a.page-numbers",t).each(function(){var t=j(this);t.removeClass("ladda-button").addClass("ladda-button"),t.attr("data-style","zoom-in"),t.attr("data-spinner-color","#868686"),t.attr("data-spinner-size","20")}),j("a.page-numbers, .grid-load-more-wrap a.load-more, .grid-infinite-scroll-wrap a.infinite-scroll",t).off("click").on("click",function(t){if(!GridPlus.vars.grid_on_ajax){GridPlus.vars.grid_on_ajax=!0;var a=j(this).parent().attr("data-section-id"),i=j('div[data-section-id="'+a+'"]'),e=i.attr("data-current-category"),r=i.attr("data-ajax-url"),s=i.attr("data-nonce"),d=j(this).attr("href"),n=1,o=2;return j(this).hasClass("page-numbers")?n=GridPlus.getPageNumberFromHref(d):j(this).hasClass("load-more")?(n=j(this).attr("data-next-page"),o=3):j(this).hasClass("infinite-scroll")&&(n=j(this).attr("data-next-page"),o=4),GridPlus.filter(this,a,r,e,n,o,s),t.preventDefault(),!1}})},initInfiniteScroll:function(){var t,a=j(window).scrollTop(),i=a+j(window).height();j(".grid-infinite-scroll-wrap a.infinite-scroll:not(.infinited)").each(function(){t=j(this).offset().top,t+j(this).height()<=i&&a<=t&&(j(this).addClass("infinited"),j(this).trigger("click"))})},initAppearScroll:function(){j(window).scrollTop(),j(window).height();var a,i="fadeInUp";a=[],j(".grid-stack-item-content.has-infinite:not(.infinited)").each(function(){GridPlus.isAppear(this)&&(j(this).addClass("infinited"),a.push(j(this)))});for(var e=0;e<a.length;e++)!function(t){setTimeout(function(){i=j(a[t]).attr("data-animation"),j(a[t]).addClass("animated "+i),j(a[t]).removeClass("has-infinite"),j(a[t]).css("opacity",1)},100*e)}(e)},initWindowScroll:function(){j(window).scroll(function(){GridPlus.initInfiniteScroll(),GridPlus.initAppearScroll()})},isAppear:function(t,a){var i=j(window).scrollTop(),e=i+j(window).height(),r=j(t).height(),s=j(t).offset().top,d=s+r,n=d-e;return(void 0===a||isNaN(a))&&(a=.8),(n<=0||n<=r*a)&&(i<=s||d<e)},initViewGallery:function(t){var a="";void 0===t?(t=j("body"),a=j(".grid-plus-container.attachment",t)):a=t,t.hasClass("attachment")||j("a.view-gallery",t).off("click").on("click",function(t){t.preventDefault();var i=j(this).closest(".grid-post-item").addClass("active"),e=j(this).attr("data-post-id"),r=j(this),a=r.attr("data-ajax-url"),s=j("i",r).attr("class"),d=null;j("i",r).attr("class","fa fa-spinner fa-spin"),void 0===GridPlus.galleries[e]?j.ajax({url:a,type:"GET",data:{action:"grid_plus_load_gallery",post_id:e},success:function(t){j("i",r).attr("class",s);var a=JSON.parse(t);void 0!==a&&j.isArray(a)&&0<a.length&&(d=j(this).lightGallery({dynamic:!0,dynamicEl:a,hash:!1,download:!0}),GridPlus.light_gallery_after_open(d),GridPlus.galleries[e]=JSON.parse(t)),i.removeClass("active")},error:function(){j("i",r).attr("class",s),i.removeClass("active")}}):(d=j(this).lightGallery({dynamic:!0,dynamicEl:GridPlus.galleries[e],hash:!1,download:!0}),GridPlus.light_gallery_after_open(d),i.removeClass("active"),j("i",r).attr("class",s))}),a.hasClass("attachment")&&a.each(function(){var s="#"+j(this).attr("id"),d="",n=[];j("a.view-gallery",s).off("click").on("click",function(){var t=j(this),a=j("i",t).attr("class"),i=t.attr("data-src"),e=0;if(j("i",t).attr("class","fa fa-spinner fa-spin"),j("a.view-gallery",s).each(function(){void 0!==(d=j(this).attr("data-src"))&&""!=d&&(i==d&&(e=n.length),n.push({subHtml:"",thumb:d,src:d}))}),0<n.length){var r=t.lightGallery({dynamic:!0,dynamicEl:n,hash:!1,download:!0,index:e});GridPlus.light_gallery_after_open(r)}setTimeout(function(){j("i",t).attr("class",a)},200)})})},light_gallery_after_open:function(t){t.on("onAfterOpen.lg",function(t,a){j(".lg-thumb-outer").css("opacity","0"),setTimeout(function(){j(".lg-has-thumb").removeClass("lg-thumb-open"),j(".lg-thumb-outer").css("opacity","1")},700)})},getPageNumberFromHref:function(t){var a="",i=/paged=\d+/gi;return new RegExp(i).test(t)?a=new RegExp(i).exec(t):(i=/page\/\d+/gi,a=new RegExp(i).test(t)?new RegExp(i).exec(t):a),i=/\d+/g,new RegExp(i).test(a)?new RegExp(i).exec(a)[0]:1},initAddToCartAjax:function(t){void 0===t&&(t=j("body")),j("a.add-to-cart:not(.added-to-cart)",t).off("click").on("click",function(t){t.preventDefault();var a=j(this),i=a.closest(".grid-post-item").addClass("active"),e=a.attr("data-cart_url"),r=a.attr("data-cart_redirect_after_add"),s=a.attr("data-icon_added_to_cart"),d={},n=a.prop("href").replace("%%endpoint%%","add_to_cart"),o=null;a.hasClass("ladda-button")&&(o=Ladda.create(this)).start(),j.each(a.data(),function(t,a){d[t]=a}),j.ajax({url:n,type:"POST",data:d,success:function(t){null!=o&&o.stop(),t.error&&t.product_url?window.location=t.product_url:"yes"!==r?(void 0!==s&&""!=s&&(j("i",a).removeClass(),j("i",a).addClass(s)),a.addClass("added-to-cart"),a.off("click"),a.attr("href",e),i.removeClass("active"),j(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a])):window.location=e},error:function(){null!=o&&o.stop(),i.removeClass("active")}})})},execCategoryFilter:function(){j(".grid-category").each(function(){if(!j(this).closest(".grid-plus-container").hasClass("grid-cate-multi-line")){var t=j(this).removeClass("hidden"),a=t.closest(".grid-plus-container").width(),i=t.find(".grid-cate-expanded").removeClass("hidden"),e=!1,r=50;i.find("li a").each(function(){var t=j(this).closest("li");j(this).detach().insertBefore(i),t.remove()}),t.children("a").each(function(){var t=j(this);e?(i.find("ul").append("<li>"+t[0].outerHTML+"</li>"),t.remove()):r+t.outerWidth()>a?(e=!0,i.find("ul").append("<li>"+t[0].outerHTML+"</li>"),t.remove()):r+=t.outerWidth()+6}),0<i.find("li a").length?i.removeClass("hidden"):i.addClass("hidden"),GridPlus.initFilterByCategory()}})}},j(document).ready(function(){GridPlus.init()}),j(window).resize(function(){clearTimeout(t),t=setTimeout(function(){GridPlus.responsive()},100),setTimeout(function(){GridPlus.execCategoryFilter()},20)})}(jQuery);